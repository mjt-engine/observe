(function(s,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(s=typeof globalThis<"u"?globalThis:s||self,u(s.Module={}))})(this,function(s){"use strict";const u=t=>e=>{if(t.length===0)return!0;for(const n of t)if(e.startsWith(n))return!0;return!1},i=({matchers:t=[],logger:e=console.log,clock:n=performance}={})=>{const o={start:(r,...d)=>{o.addLog({traceId:r,message:"start",extra:d})},addLog:({traceId:r,message:d,timestamp:a=n.now(),extra:l=[]})=>{u(t)(r)&&e(`${a} ${r}: ${d}`,...l)},end:(r,...d)=>{o.addLog({traceId:r,message:"end",extra:d})}};return o},f=(t="",e=i())=>{e.start(t);const n={span:o=>f(`${t}.${o}`,e),end:()=>(e.end(t),n),log:(o,...r)=>(e.addLog({traceId:t,message:o,extra:r}),n)};return n},c=t=>{const e=t.split("."),n=e.shift(),o=e.join(".");return{root:n,segments:e,subpath:o}};s.Observe=f,s.ObserveAgent=i,s.parseSubject=c,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
